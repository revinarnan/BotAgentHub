<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title ECHA</title>

    <link href="https://fonts.googleapis.com/css2?family=Nunito&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="plugins/bootstrap/css/bootstrap.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="~/Content/style.css">
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")

</head>
<body>
    <header>
        <div class="container-echa">
            @Html.ActionLink("ECHA", "Index", "Dashboard", new { area = "" }, new { @style = "font-weight: bolder;", @class = "basic-txt navbar-brand" })
        </div>

        <div class="container-profile navbar">
            @Html.Partial("_LoginPartial")
        </div>
    </header>

    <div id="wrapper">

        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                @if (User.IsInRole("SuperAdmin") || User.IsInRole("StaffAdmin"))
                {
                    <li>@Html.ActionLink("Dashboard", "Index", "Dashboard")</li>
                }
                    
                <li>@Html.ActionLink("Riwayat Chat", "Index", "ChatHistory")</li>

                @if (User.IsInRole("SuperAdmin") || User.IsInRole("StaffAdmin"))
                {
                    <li>@Html.ActionLink("Pengaturan", "Index", "Setting")</li>
                }
                </ul>
        </div>
        <!-- /#sidebar-wrapper -->
        <!-- Page Content -->
        <div id="page-content-wrapper">
            <div class="container-fluid">
                @RenderBody()
            </div>
        </div>
        <!-- /#page-content-wrapper -->

    </div>

    <button id="myBtn" class="act-btn" onclick="createPopupWin('https://localhost:44361/Dashboard/DirectLine?Length=9','Chat Room', 300, 400)">

        <svg class="mobile-hide" height="2vw" width="2vw" style="vertical-align: middle; margin-right: 10px">
            <circle cx="1vw" cy="1vw" r="0.8vw" stroke-width="0" fill="#FED400" />
        </svg>

        <span style="vertical-align: middle; font-family: 'Nunito', sans-serif;">
            @*@Html.ActionLink("Live Chat", "DirectLine", "Dashboard", new { target = "_blank" })*@
           Live Chat
        </span>

        <script>
            function createPopupWin(pageURL, pageTitle,
                popupWinWidth, popupWinHeight) {
                var left = (screen.width - popupWinWidth) / 2;
                var top = (screen.height - popupWinHeight) / 4;

                var myWindow = window.open(pageURL, pageTitle,
                    'resizable=yes, width=' + popupWinWidth
                    + ', height=' + popupWinHeight + ', top='
                    + top + ', left=' + left);
            }
        </script>

    </button>

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
</body>
</html>
